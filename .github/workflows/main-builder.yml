name: Build bootloader project

on:

    pull_request:

        branches: [ bootloader ]

jobs:

    build:
        
        runs-on: ubuntu-latest

        steps:
        - uses: actions/checkout@v2

        - name: Install MPLab IDE and Compilers
          run: scripts/install_mplab_dependencies.sh
        
        - name: Make bootloader project
          run: |
            cd pslab-bootloader.X
            /opt/microchip/mplabx/v5.45/mplab_platform/bin/prjMakefilesGenerator.sh .
            /opt/microchip/mplabx/v5.45/mplab_platform/bin/make
